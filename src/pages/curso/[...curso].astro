---
import { getEntry } from "astro:content";
const { curso } = Astro.params;

export const prerender = false;

if (curso === undefined) {
  throw new Error("Slug es requerido");
}

const entry = await getEntry("curso", curso);

if (entry === undefined) {
  return Astro.redirect("/404");
}

const {titulo , descripcion,modulos} = entry.data;

---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>{titulo}</h1>
    <p>{descripcion}</p>
    {
        modulos && modulos.length > 0 && modulos.map(({id, semanas})=> (
            <Fragment>
                <h3>{id}</h3>
                {semanas.length > 0 && semanas.map( ({temas})=> (
                    <ul>
                        <li>{temas.map((tema) => (
                            <ul>
                                <li>{tema}</li>
                            </ul>
                        ))}</li>
                    </ul>
                ))}
            </Fragment>
            
        ))
    }
</body>
</html>



